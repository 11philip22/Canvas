obj-m := fakemodule.o

clean: remove_tmp
	rm -f .fakemodule.mod.o.cmd Module.symvers  modules.alias.bin  modules.dep.bin  modules.symbols.bin  fakemodule.ko fakemodule.mod.o exploit_CVE-2017-0358
	rm -f .fakemodule.ko.cmd .fakemodule.o.cmd modules.builtin.bin  modules.order fakemodule.mod.c  fakemodule.o
	rm -rf .tmp_versions
	rm -f .cve*

remove_tmp:
	sudo rm -f /tmp/h
	sudo rm -fr /tmp/2017*
	rm -rf /tmp/ntfs_sploit*
	sudo rm -f /tmp/canary
	touch /tmp/h

